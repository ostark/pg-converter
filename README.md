# PG Converter -  a PostgreSQL dump (to MySQL) converter

PG Converter is a command-line interface (CLI) utility crafted to simplify the process of converting PostgreSQL database dumps into dumps compatible with MySQL.

While the SQL grammar of both database engines shares similarities, there are distinctions in certain areas. This tool specifically focuses on converting SQL statements generated by [pg_dump](https://www.postgresql.org/docs/current/app-pgdump.html), which include commands for creating tables, indexes, constraints, and inserting data.


## State of project (2024-02-11)

If you discover this repository by accident with tinkering and bug reports.
Please note, only a subset of the typical statements used by `pg_dump` get converted so far. That means, the tool is not ready.

1. [x] CREATE TABLE
2. [x] CREATE INDEX
3. [x] ALTER SEQUENCE
4. [x] ALTER TABLE ONLY
5. [ ] COPY
6. [ ] SET


## Example 

```bash
php bin/pg-convert 
    <src> Postgres source file
    <target> Mysql target file
    --filterInput="^CREATE INDEX searchindex_keywords_idx"
    --appendString="CREATE FULLTEXT INDEX keywords_idx ON searchindex(keywords);"
```



```sql
-- 500 MB (to allow bigger INSERTs)
SET GLOBAL max_allowed_packet=524288000;

-- Drop tables 
SET foreign_key_checks = 0;
```




---

This package is based the wonderful [PHP Skeleton](https://github.com/nunomaduro/skeleton-php/) by Nuno Maduro.

